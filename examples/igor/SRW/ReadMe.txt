<<Turn On "Word Wrap" option in the Edit menu if viewing by Notepad>>

WELCOME TO

                SYNCHROTRON RADIATION WORKSHOP (SRW)

CURRENT VERSION: SRW 3.965

====================================
WHAT SRW CAN DO? 

Current version of SRW enables the following:

- Near-field computation of Synchrotron Radiation generated by filament relativistic electron beam in magnetic field of arbitrary configuration. The effects of non-zero transverse emittance of electron beam can be computed in assumption of transversely uniform magnetic field.

- Propagation of Synchrotron Radiation from filament electron beam through simple optical elements like lenses, apertures and drift spaces. The Propagation is implemented in the frame of the Scalar Diffraction Theory using CPU-efficient methods of Fourier Optics.

- Fast computation of Undulator Radiation Spectra through a Slit for Finite-Emittance Electron Beam.

- Computation of Wiggler Radiation.

- Computation of Synchrotron Radiation Power Density.

- Estimation of Spectral Brightness of different sources.

- Simulation of SASE Wavefront Amplification (based on GENESIS 3D code developed S. Reiche).

====================================
CONFIGURATION REQUIRED

To use the SRW, you should have a license of Igor Pro 6.x/7.x/8.x and Mac running OSX or PC running Windows 7 or higher.

====================================
PREVIOUS VERSION SHOULD BE DE-INSTALLED

Before making any steps for installation of the new version, make sure that the previous version of SRW is completely de-installed from your system. This means that: 

Any aliases (shortcuts) of files and folders (or the files and folders itself) which have "SRW" in their names, should be removed from the following folders of your Igor Pro installation:
"Igor Pro (x) Folder"
"Igor Pro (x) Folder:Igor Extensions"
"Igor Pro (x) Folder:Igor Extensions (64-bit)"
"Igor Pro (x) Folder:Igor Help Files"
"Igor Pro (x) Folder:Igor Procedures"

====================================
SRW INSTALLATION ON WINDOWS OR MAC OSX (for Igor 7/8, 64- or 32-bit)

1. Quit Igor Pro, if it is running.

2. Locate "SRW" folder for Igor. It can be found in SRW open source repository downloaded from GitHub, inside the folder ".../env/work/srw_igor"; or it can possibly be downloaded separately as an archived file, in that case it has to be extracted from the archive.

3. Move of copy the folder "SRW" to the "Igor Pro (x) Folder" where your license of the Igor Pro is installed (on Windows, it can be "C:\Program Files\WaveMetrics\Igor Pro 8 Folder").

4. Find the folder "SRW Procedures" inside the "SRW" folder. Make a shortcut (/alias) to this folder and move the shortcut in "Igor Pro (x) Folder:Igor Procedures".

5. To install 64-bit version of SRW library to 64-bit version of Igor Pro on Windows, find the file "SRW64.xop" inside the "SRW" folder, make a shortcut to this file and move the shortcut into "Igor Pro (x) Folder:Igor Extensions (64-bit)". To install 32-bit version of SRW library to 32-bit version of Igor Pro on Windows, find the file "SRW.xop" inside the "SRW" folder, make a shortcut to this file and move the shortcut into "Igor Pro (x) Folder:Igor Extensions". 
To install 64-bit version of SRW library to Igor Pro on Mac OSX, find the file "SRW_MAC64.xop" inside the "SRW" folder, make an alias to this file and move the alias into "Igor Pro Folder:Igor Extensions (64-bit)".
NOTE: if SRW*.xop files (shared libraries) can't be located in the "SRW" folder, or need to be updated (e.g. for a newer version of Igor), one can build them for Windows using Visual C++ and for Mac OSX using Xcode. The corresponding project files can be found inside the SRW open source repository in "../cpp/vs" and in "../cpp/xcode" folders respectively. Prior to the compilation, one may need to place WaveMetrics' Igor XOP libraries to "../ext_lib/igor/XOPSupport" folder.
More specifically, to rebuild "SRW_MAC64.xop" on Mac OSX, install (when necessary) and put the library dependencies, i.e., XOPSupport, FFTW-2.1.5, f2c, under "../ext_lib" ("../ext_lib/igor/XOPSupport" for XOPSupport) folder, and rename them to be: "libXOPSupport64.a", "libfftwf_mac.a", and "libf2c.a". Pre-built f2c and FFTW-2.1.5 libraries on macOS 10.14 can be found in "../ext_lib" folder: "libf2c.a" and "libfftwf_mac.a". 

6. Find the file "SRW Macro Help.ifn" inside the "SRW:SRW Help" folder. Make a shortcut to this file and move the shortcut in "Igor Pro Folder:Igor Help Files".

7. Start Igor Pro. At the first start after the SRW installation, Igor may show a dialog box suggesting to compile the help file "SRW Macro Help.ifn". Choose to compile it. Finally, you should obtain inside Igor new menu item(s) named "SRW...".
NOTE: Mac users may not be able to start Igor Pro with SRW (in particular the XOP module SRW_MAC64.xop) installed from the first attempt because of Security / Protection reinforced by Apple in recent versions of macOS. One may be able to walk this around after the initial bad start of Igor by doing the following. In the Apple menu, sub-menu "System Preferences", in "Security & Privacy" group, in its "General" tab, click on "Allow Anyway" to the right from the text: "SRW_MAC64 was blocked from use because it is not from an identified developer". After this, start again Igor; the process may be again interrupted by another macOS dialog with the text: "macOS cannot verify the developer of "SRW_MAC64". Are you sure you want to open it?". In that dialog, click on "Open" - this should enable start of Igor and initialization of SRW in it. These confirmations have to be only once (subsequent (re-)starts of Igor should go smoothly).

====================================
GETTING STARTED

The first thing we recommend to do after first installation of SRW and start of Igor Pro is to choose "Help->Introduction" in the menu SRW and read basic information about types of calculations supported by the code.

After this, one can try examples from the part of SRW of one's interest, e.g. "SRWE->Undulator->Help->Example: Spectrum through a Slit", or run all available examples by selecting "SRWE->Help->Run All SRW Examples".

For convenience, the SRW help file "SRW Help.ifn" in the format of Igor Pro notebook can be printed out and used as a hard copy of SRW documentation.

====================================
Authors and Contributors:
O. Chubar (ESRF - SOLEIL - BNL)
P. Elleaume (ESRF)
J. Chavanne (ESRF)
R. Celestre (ESRF)
G. Le Bec (ESRF)
P. Dumas (SOLEIL)
O. Marcouille (SOLEIL)
L. Samoylova (E-XFEL)
A. Buzmakov (E-XFEL)
G. Geloni (E-XFEL)
I. Agapov (E-XFEL, DESY)
J. Sutter (DIAMOND)
D. Laundy (DIAMOND)
A. He (BNL)
R. Coles (BNL)
R. Li (BNL)
M. Rakitin (BNL)
N. Canestrari (ESRF - BNL)
A. Suvorov (BNL)
R. Reininger (ANL)
X. Shi (ANL)
R. Lindberg (ANL)
L. Rebuffi (ELETTRA - ANL)
D. Bruhwiler (RadiaSoft LLC)
R. Nagler (RadiaSoft LLC)
P. Moeller (RadiaSoft LLC)
B. Nash (RadiaSoft LLC)

December 2019
